<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>í˜„ì¬ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°</title>
</head>
<body>
  <h1>ğŸ“ í˜„ì¬ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°</h1>
  <p id="status">ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</p>

  <script>
    function saveLocationToFile(latitude, longitude) {
      const data = `${latitude},${longitude}`;
      const blob = new Blob([data], { type: "text/plain" });

      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "location.txt";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }

    function success(position) {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;
      document.getElementById("status").textContent = `âœ… ìœ„ë„: ${lat}, ê²½ë„: ${lon}`;
      saveLocationToFile(lat, lon);
    }

    function error(err) {
      document.getElementById("status").textContent = `âŒ ì˜¤ë¥˜ ë°œìƒ: ${err.message}`;
    }

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(success, error, {
        enableHighAccuracy: true,
        timeout: 10000,
        maximumAge: 0
      });
    } else {
      document.getElementById("status").textContent = "âŒ ì´ ë¸Œë¼ìš°ì €ëŠ” ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
    }
  </script>
</body>
</html>
